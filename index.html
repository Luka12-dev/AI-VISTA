<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AIVISTA Pro - AI Web Studio</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <header>
      <h1 id="title">AIVISTA Pro - AI Web Studio</h1>
      <div id="mode-indicator">Mode: <span id="server-mode">unknown</span></div>
    </header>

    <main>
      <section class="card">
        <div class="row">
          <label>Model</label>
          <select id="model-select"></select>
        </div>

        <div class="row">
          <label>HF Token (optional)</label>
          <input id="hf-token" placeholder="HF token (optional)" />
        </div>

        <div class="row">
          <label>Device</label>
          <select id="device-select">
            <option value="auto">auto</option>
            <option value="cuda">cuda</option>
            <option value="cpu">cpu</option>
          </select>

          <label>Precision</label>
          <select id="precision-select">
            <option value="auto">auto</option>
            <option value="float16">float16</option>
            <option value="float32">float32</option>
          </select>

          <label>Scheduler</label>
          <select id="scheduler-select">
            <option>DDIM</option>
            <option>DDPM</option>
            <option>PNDM</option>
            <option>LMS</option>
            <option>Euler</option>
          </select>
        </div>

        <div class="row">
          <label>Width</label><input id="width" type="number" value="1024" min="256" max="2048" />
          <label>Height</label><input id="height" type="number" value="1024" min="256" max="2048" />
          <label>Steps</label><input id="steps" type="number" value="30" min="1" max="200" />
          <label>CFG</label><input id="cfg" type="number" step="0.5" value="7.5" min="1" max="30" />
        </div>

        <div class="row">
          <label>Filename</label><input id="filename" value="city.png" />
        </div>

        <div class="row">
          <label>Prompt</label>
          <textarea id="prompt" placeholder="Enter prompt (e.g. futuristic city at dusk, highly detailed)"></textarea>
        </div>

        <div class="row actions">
          <button id="ensure-btn">Ensure Model (skip if cached)</button>
          <button id="generate-btn">Generate Image</button>
          <button id="preview-btn">Preview Latest</button>
          <button id="clear-cache-btn">Clear Model Cache</button>
        </div>

        <div class="row">
          <progress id="progress" value="0" max="100"></progress>
          <div id="status">Ready</div>
        </div>
      </section>

      <section class="card">
        <h3>Logs</h3>
        <pre id="log" class="log"></pre>
      </section>
    </main>

    <footer>
      <small>Backend powered by AIVISTA Python (serving `model_cache`)</small>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>